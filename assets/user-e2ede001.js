import{b as Fe,o as I,c as L,w as o,d as a,H as U,N as ne,K as Ue,O as pe,aR as $e,aH as ye,L as he,aS as be,aT as _e,aU as Ee,T as Le,U as M,W as ge,X as Te,J as Z,aV as ie,aW as Me,M as je,aX as Ge,aY as Ne,aG as qe,aZ as Oe,a_ as Ke,aL as Ve,a$ as Xe,b0 as He,a1 as We,b1 as Ye,aK as Ze,b2 as Je,P as ke,b3 as Qe,b4 as ea,s as S,Z as J,_ as ue,b5 as aa,b6 as ta,aQ as j,am as la,G as $,ap as te,$ as N,a2 as na,b7 as ce,r as E,ak as Ce,Y as sa,aC as oa,n as ia,b8 as ua,b9 as Q,g as Ie,al as ca,an as ra,i as C,h as q,k as da,f as d,V as Se,y as le,m as re,e as B,aj as fa,u as va,a as ma,ba as pa,x as ee,j as G,l as ya,aw as ha,ax as ba}from"./index-0eafe3de.js";import{V as _a}from"./VForm-4da6778b.js";import{V as De,a as w}from"./VRow-9dd96afa.js";import{m as ga,c as Va,u as ka,b as de,f as Ca,d as Ia,e as Sa,V as ae,a as fe}from"./VTextField-a026d8e1.js";import{V as Da}from"./VDialog-5bd0af43.js";import{a as xa}from"./formatters-1588bd0d.js";import{V as Pa}from"./VDivider-8158c71f.js";import{V as Ba,a as ve,b as me}from"./VList-9f694016.js";import"./dialog-transition-b1194f6a.js";const wa={__name:"DialogCloseBtn",props:{icon:{type:String,required:!1,default:"tabler-x"},iconSize:{type:String,required:!1,default:"22"}},setup(e){const n=e;return(f,i)=>{const l=Fe("IconBtn");return I(),L(l,{variant:"elevated",class:"v-dialog-close-btn"},{default:o(()=>[a(U,{icon:n.icon,size:n.iconSize},null,8,["icon","size"])]),_:1})}}};const xe=Symbol.for("vuetify:v-chip-group");ne()({name:"VChipGroup",props:{column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Ue},...pe(),...$e({selectedClass:"v-chip--selected"}),...ye(),...he(),...be({variant:"tonal"})},emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:f}=n;const{themeClasses:i}=_e(e),{isSelected:l,select:p,next:u,prev:y,selected:b}=Ee(e,xe);return Le({VChip:{color:M(e,"color"),disabled:M(e,"disabled"),filter:M(e,"filter"),variant:M(e,"variant")}}),ge(()=>a(e.tag,{class:["v-chip-group",{"v-chip-group--column":e.column},i.value,e.class],style:e.style},{default:()=>{var _;return[(_=f.default)==null?void 0:_.call(f,{isSelected:l,select:p,next:u,prev:y,selected:b.value})]}})),{}}});const Aa=ne()({name:"VChip",directives:{Ripple:Te},props:{activeClass:String,appendAvatar:String,appendIcon:Z,closable:Boolean,closeIcon:{type:Z,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Z,ripple:{type:Boolean,default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:ie(),onClickOnce:ie(),...Me(),...pe(),...je(),...Ge(),...Ne(),...qe(),...Oe(),...Ke(),...ye({tag:"span"}),...he(),...be({variant:"tonal"})},emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,n){let{attrs:f,emit:i,slots:l}=n;const{t:p}=Ve(),{borderClasses:u}=Xe(e),{colorClasses:y,colorStyles:b,variantClasses:_}=He(e),{densityClasses:c}=We(e),{elevationClasses:v}=Ye(e),{roundedClasses:g}=Ze(e),{sizeClasses:h}=Je(e),{themeClasses:O}=_e(e),A=ke(e,"modelValue"),s=Qe(e,xe,!1),m=ea(e,f),R=S(()=>e.link!==!1&&m.isLink.value),V=S(()=>!e.disabled&&e.link!==!1&&(!!s||e.link||m.isClickable.value)),K=S(()=>({"aria-label":p(e.closeLabel),onClick(t){A.value=!1,i("click:close",t)}}));function z(t){var r;i("click",t),V.value&&((r=m.navigate)==null||r.call(m,t),s==null||s.toggle())}function X(t){(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),z(t))}return()=>{const t=m.isLink.value?"a":e.tag,r=!!(e.appendIcon||e.appendAvatar),D=!!(r||l.append),H=!!(l.close||e.closable),W=!!(l.filter||e.filter)&&s,T=!!(e.prependIcon||e.prependAvatar),Y=!!(T||l.prepend),k=!s||s.isSelected.value;return A.value&&J(a(t,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":V.value,"v-chip--filter":W,"v-chip--pill":e.pill},O.value,u.value,k?y.value:void 0,c.value,v.value,g.value,h.value,_.value,s==null?void 0:s.selectedClass.value,e.class],style:[k?b.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,href:m.href.value,tabindex:V.value?0:void 0,onClick:z,onKeydown:V.value&&!R.value&&X},{default:()=>{var x;return[aa(V.value,"v-chip"),W&&a(ta,{key:"filter"},{default:()=>[J(a("div",{class:"v-chip__filter"},[l.filter?J(a(j,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},null),[[ue("slot"),l.filter,"default"]]):a(U,{key:"filter-icon",icon:e.filterIcon},null)]),[[la,s.isSelected.value]])]}),Y&&a("div",{key:"prepend",class:"v-chip__prepend"},[l.prepend?a(j,{key:"prepend-defaults",disabled:!T,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},l.prepend):a($,null,[e.prependIcon&&a(U,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&a(te,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),((x=l.default)==null?void 0:x.call(l,{isSelected:s==null?void 0:s.isSelected.value,selectedClass:s==null?void 0:s.selectedClass.value,select:s==null?void 0:s.select,toggle:s==null?void 0:s.toggle,value:s==null?void 0:s.value.value,disabled:e.disabled}))??e.text,D&&a("div",{key:"append",class:"v-chip__append"},[l.append?a(j,{key:"append-defaults",disabled:!r,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},l.append):a($,null,[e.appendIcon&&a(U,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&a(te,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),H&&a("div",N({key:"close",class:"v-chip__close"},K.value),[l.close?a(j,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},l.close):a(U,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[ue("ripple"),V.value&&e.ripple,null]])}}}),Ra=ne()({name:"VFileInput",inheritAttrs:!1,props:{chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,showSize:{type:[Boolean,Number],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(e)},...ga({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:e=>na(e).every(n=>n!=null&&typeof n=="object")},...Va({clearable:!0})},emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:f,emit:i,slots:l}=n;const{t:p}=Ve(),u=ke(e,"modelValue"),{isFocused:y,focus:b,blur:_}=ka(e),c=S(()=>typeof e.showSize!="boolean"?e.showSize:void 0),v=S(()=>(u.value??[]).reduce((t,r)=>{let{size:D=0}=r;return t+D},0)),g=S(()=>ce(v.value,c.value)),h=S(()=>(u.value??[]).map(t=>{const{name:r="",size:D=0}=t;return e.showSize?`${r} (${ce(D,c.value)})`:r})),O=S(()=>{var r;const t=((r=u.value)==null?void 0:r.length)??0;return e.showSize?p(e.counterSizeString,t,g.value):p(e.counterString,t)}),A=E(),s=E(),m=E();function R(){var t;m.value!==document.activeElement&&((t=m.value)==null||t.focus()),y.value||b()}function V(t){z(t)}function K(t){i("mousedown:control",t)}function z(t){var r;(r=m.value)==null||r.click(),i("click:control",t)}function X(t){t.stopPropagation(),R(),ia(()=>{u.value=[],ua(e["onClick:clear"],t)})}return Ce(u,t=>{(!Array.isArray(t)||!t.length)&&m.value&&(m.value.value="")}),ge(()=>{const t=!!(l.counter||e.counter),r=!!(t||l.details),[D,H]=sa(f),[{modelValue:W,...T}]=de.filterProps(e),[Y]=Ca(e);return a(de,N({ref:A,modelValue:u.value,"onUpdate:modelValue":k=>u.value=k,class:["v-file-input",e.class],style:e.style,"onClick:prepend":V},D,T,{focused:y.value}),{...l,default:k=>{let{id:x,isDisabled:F,isDirty:se,isReadonly:Pe,isValid:Be}=k;return a(Ia,N({ref:s,"prepend-icon":e.prependIcon,onMousedown:K,onClick:z,"onClick:clear":X,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},Y,{id:x.value,active:se.value||y.value,dirty:se.value,disabled:F.value,focused:y.value,error:Be.value===!1}),{...l,default:we=>{var oe;let{props:{class:Ae,...Re}}=we;return a($,null,[a("input",N({ref:m,type:"file",readonly:Pe.value,disabled:F.value,multiple:e.multiple,name:e.name,onClick:P=>{P.stopPropagation(),R()},onChange:P=>{if(!P.target)return;const ze=P.target;u.value=[...ze.files??[]]},onFocus:R,onBlur:_},Re,H),null),a("div",{class:Ae},[!!((oe=u.value)!=null&&oe.length)&&(l.selection?l.selection({fileNames:h.value,totalBytes:v.value,totalBytesReadable:g.value}):e.chips?h.value.map(P=>a(Aa,{key:P,size:"small",color:e.color},{default:()=>[P]})):h.value.join(", "))])])}})},details:r?k=>{var x,F;return a($,null,[(x=l.details)==null?void 0:x.call(l,k),t&&a($,null,[a("span",null,null),a(Sa,{active:!!((F=u.value)!=null&&F.length),value:O.value},l.counter)])])}:void 0})}),oa({},A,s,m)}}),za=B("p",{class:"mb-0"}," Updating user details will receive a privacy audit. ",-1),Fa={__name:"UserInfoEditDialog",props:{userData:{type:Object,required:!1,default:()=>({id:0,name:"",email:"",photo:""})},isDialogVisible:{type:Boolean,required:!0}},emits:["submit","update:isDialogVisible"],setup(e,{emit:n}){const f=e,i=E(structuredClone(Q(f.userData)));Ce(f,()=>{i.value=structuredClone(Q(f.userData))});const l=()=>{n("update:isDialogVisible",!1);const c=new FormData;c.append("name",i.value.name),c.append("email",i.value.email),i.value.file&&c.append("userPhoto",i.value.file),n("submit",c)},p=()=>{n("update:isDialogVisible",!1),i.value=structuredClone(Q(f.userData))},u=c=>{n("update:isDialogVisible",c)},y=c=>{const v=c.target.files[0],g=URL.createObjectURL(v);i.value.photo=g,i.value.file=v},b=c=>{i.value.name=c},_=c=>{i.value.email=c};return(c,v)=>{const g=wa;return I(),L(Da,{width:c.$vuetify.display.smAndDown?"auto":500,"model-value":f.isDialogVisible,"onUpdate:modelValue":u},{default:o(()=>[a(g,{onClick:v[0]||(v[0]=h=>u(!1))}),a(Ie,{class:"pa-sm-8 pa-5"},{default:o(()=>[a(ca,{class:"text-center"},{default:o(()=>[a(ra,{class:"text-h5 mb-3"},{default:o(()=>[C(" Edit User Information ")]),_:1}),za]),_:1}),a(q,null,{default:o(()=>[a(_a,{class:"mt-6",onSubmit:da(l,["prevent"])},{default:o(()=>[a(De,null,{default:o(()=>[a(w,{cols:"12"},{default:o(()=>[d(i).photo?(I(),L(Se,{key:0,md:"8",src:d(i).photo,height:"100"},null,8,["src"])):le("",!0)]),_:1}),a(w,{cols:"12"},{default:o(()=>[a(ae,null,{default:o(()=>[C("Photo:")]),_:1}),a(Ra,{md:"4",accept:"image/png, image/jpeg","prepend-icon":"mdi-camera",onInput:v[1]||(v[1]=h=>y(h))})]),_:1}),a(w,{cols:"12"},{default:o(()=>[a(ae,null,{default:o(()=>[C("Username:")]),_:1}),a(fe,{value:d(i).name,onInput:v[2]||(v[2]=h=>b(h.target.value))},null,8,["value"])]),_:1}),a(w,{cols:"12"},{default:o(()=>[a(ae,null,{default:o(()=>[C("Email:")]),_:1}),a(fe,{value:d(i).email,onInput:v[3]||(v[3]=h=>_(h.target.value))},null,8,["value"])]),_:1}),a(w,{cols:"12",class:"d-flex flex-wrap justify-center gap-4"},{default:o(()=>[a(re,{type:"submit"},{default:o(()=>[C(" Submit ")]),_:1}),a(re,{color:"secondary",variant:"tonal",onClick:p},{default:o(()=>[C(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}};const Ua=e=>(ha("data-v-1652b249"),e=e(),ba(),e),$a={key:0},Ea={key:1,class:"text-5xl font-weight-medium"},La={class:"text-h4 mt-4"},Ta=Ua(()=>B("p",{class:"text-sm text-uppercase text-disabled"}," Details ",-1)),Ma={class:"text-h6"},ja={class:"text-body-1"},Ga={class:"text-h6"},Na={class:"text-body-1"},qa={__name:"user",setup(e){const n=va(),f=ma(),i=E(!1);pa(async()=>{try{await n.getInfo()}catch{f.replace("/login")}});async function l(p){await n.updateInfo(p),n.getInfo()}return(p,u)=>{const y=Fa;return I(),ee("div",null,[d(n).user.name?(I(),ee("div",$a,[a(De,null,{default:o(()=>[a(w,{cols:"12",md:"4"},{default:o(()=>[d(n).user?(I(),L(Ie,{key:0},{default:o(()=>[a(q,{class:"text-center pt-15"},{default:o(()=>[a(te,{rounded:"",size:100,color:d(n).user.avatar?void 0:"primary",variant:d(n).user.avatar?void 0:"tonal"},{default:o(()=>[d(n).user.photo?(I(),L(Se,{key:0,src:d(n).user.photo},null,8,["src"])):(I(),ee("span",Ea,G(d(xa)(d(n).user.name)),1))]),_:1},8,["color","variant"]),B("h6",La,G(d(n).user.name),1)]),_:1}),a(Pa),a(q,null,{default:o(()=>[Ta,a(Ba,{class:"card-list mt-2"},{default:o(()=>[a(ve,null,{default:o(()=>[a(me,null,{default:o(()=>[B("h6",Ma,[C(" Username: "),B("span",ja,G(d(n).user.name),1)])]),_:1})]),_:1}),a(ve,null,{default:o(()=>[a(me,null,{default:o(()=>[B("h6",Ga,[C(" Email: "),B("span",Na,G(d(n).user.email),1)])]),_:1})]),_:1})]),_:1})]),_:1}),a(q,{class:"d-flex justify-center"})]),_:1})):le("",!0)]),_:1})]),_:1}),a(y,{isDialogVisible:d(i),"onUpdate:isDialogVisible":u[0]||(u[0]=b=>ya(i)?i.value=b:null),"user-data":d(n).user,onSubmit:l},null,8,["isDialogVisible","user-data"])])):le("",!0)])}}},et=fa(qa,[["__scopeId","data-v-1652b249"]]);export{et as default};

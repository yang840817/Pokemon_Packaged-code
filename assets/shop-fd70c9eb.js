import{aD as Y,r as k,aE as V,bb as ue,N as U,J as N,aW as Z,O as W,M as ce,aX as ee,aG as ae,a_ as de,aH as G,L as te,aS as ve,P as ge,aL as fe,bc as be,aT as ne,bd as me,T as z,be as ye,s as m,bf as D,U as _,W as K,d as l,m as C,$ as T,bg as O,n as X,I as le,aJ as he,a$ as _e,b1 as xe,aK as Le,V as ie,aQ as j,bh as F,bi as Ve,aj as ke,o as H,x as q,e as M,w as p,G as Pe,A as Se,f as w,c as Ie,g as Be,i as Ce,j as Q}from"./index-0eafe3de.js";import{a as Te,V as pe}from"./VRow-9dd96afa.js";import{V as we}from"./VDivider-8158c71f.js";const Re=Y("cart",()=>{const e=k({});async function r(){try{const{data:t}=await V.get("/cart_items");e.value=t}catch(t){return Promise.reject(t)}}async function a(t){try{await V.post("/cart_items",t)}catch(s){return Promise.reject(s)}}async function v(t){try{await V.delete(`/cart_items/${t}`)}catch(s){return Promise.reject(s)}}return{cartItemList:e,getCart:r,addItem:a,deleteItem:v}}),$e=Y("race",()=>{const e=k({}),r=k({});async function a(s=1){r.value=await V.get(`/races/?page=${s}`).then(u=>{if(u.status===200)return u.data})}async function v(s){try{return await V.post("/races",s).then(u=>u.status===200?{type:"positive",message:"Success"}:{type:"negative",message:"failed"})}catch{return{type:"negative",message:"failed"}}}async function t(s){try{return await V.patch("/races",s).then(u=>u.status===200?{type:"positive",message:"Success"}:{type:"negative",message:"failed"})}catch{return{type:"negative",message:"failed"}}}return{race:e,raceList:r,fetchRaceList:a,createData:v,updateData:t}});function Ae(){const e=k([]);ue(()=>e.value=[]);function r(a,v){e.value[v]=a}return{refs:e,updateRef:r}}const Ne=U()({name:"VPagination",props:{activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:N,default:"$first"},prevIcon:{type:N,default:"$prev"},nextIcon:{type:N,default:"$next"},lastIcon:{type:N,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...Z(),...W(),...ce(),...ee(),...ae(),...de(),...G({tag:"nav"}),...te(),...ve({variant:"text"})},emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,r){let{slots:a,emit:v}=r;const t=ge(e,"modelValue"),{t:s,n:u}=fe(),{isRtl:L}=be(),{themeClasses:E}=ne(e),{width:P}=me(),x=k(-1);z(void 0,{scoped:!0});const{resizeRef:S}=ye(n=>{if(!n.length)return;const{target:i,contentRect:o}=n[0],g=i.querySelector(".v-pagination__list > *");if(!g)return;const b=o.width,B=g.offsetWidth+parseFloat(getComputedStyle(g).marginRight)*2;x.value=I(b,B)}),c=m(()=>parseInt(e.length,10)),d=m(()=>parseInt(e.start,10)),f=m(()=>e.totalVisible?parseInt(e.totalVisible,10):x.value>=0?x.value:I(P.value,58));function I(n,i){const o=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((n-i*o)/i).toFixed(2)))}const R=m(()=>{if(c.value<=0||isNaN(c.value)||c.value>Number.MAX_SAFE_INTEGER)return[];if(f.value<=1)return[t.value];if(c.value<=f.value)return D(c.value,d.value);const n=f.value%2===0,i=n?f.value/2:Math.floor(f.value/2),o=n?i:i+1,g=c.value-i;if(o-t.value>=0)return[...D(Math.max(1,f.value-1),d.value),e.ellipsis,c.value];if(t.value-g>=(n?1:0)){const b=f.value-1,B=c.value-b+d.value;return[d.value,e.ellipsis,...D(b,B)]}else{const b=Math.max(1,f.value-3),B=b===1?t.value:t.value-Math.ceil(b/2)+d.value;return[d.value,e.ellipsis,...D(b,B),e.ellipsis,c.value]}});function y(n,i,o){n.preventDefault(),t.value=i,o&&v(o,i)}const{refs:$,updateRef:A}=Ae();z({VPaginationBtn:{color:_(e,"color"),border:_(e,"border"),density:_(e,"density"),size:_(e,"size"),variant:_(e,"variant"),rounded:_(e,"rounded"),elevation:_(e,"elevation")}});const re=m(()=>R.value.map((n,i)=>{const o=g=>A(g,i);if(typeof n=="string")return{isActive:!1,key:`ellipsis-${i}`,page:n,props:{ref:o,ellipsis:!0,icon:!0,disabled:!0}};{const g=n===t.value;return{isActive:g,key:n,page:u(n),props:{ref:o,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:g?e.activeColor:e.color,ariaCurrent:g,ariaLabel:s(g?e.currentPageAriaLabel:e.pageAriaLabel,n),onClick:b=>y(b,n)}}}})),h=m(()=>{const n=!!e.disabled||t.value<=d.value,i=!!e.disabled||t.value>=d.value+c.value-1;return{first:e.showFirstLastPage?{icon:L.value?e.lastIcon:e.firstIcon,onClick:o=>y(o,d.value,"first"),disabled:n,ariaLabel:s(e.firstAriaLabel),ariaDisabled:n}:void 0,prev:{icon:L.value?e.nextIcon:e.prevIcon,onClick:o=>y(o,t.value-1,"prev"),disabled:n,ariaLabel:s(e.previousAriaLabel),ariaDisabled:n},next:{icon:L.value?e.prevIcon:e.nextIcon,onClick:o=>y(o,t.value+1,"next"),disabled:i,ariaLabel:s(e.nextAriaLabel),ariaDisabled:i},last:e.showFirstLastPage?{icon:L.value?e.firstIcon:e.lastIcon,onClick:o=>y(o,d.value+c.value-1,"last"),disabled:i,ariaLabel:s(e.lastAriaLabel),ariaDisabled:i}:void 0}});function J(){var i;const n=t.value-d.value;(i=$.value[n])==null||i.$el.focus()}function oe(n){n.key===O.left&&!e.disabled&&t.value>+e.start?(t.value=t.value-1,X(J)):n.key===O.right&&!e.disabled&&t.value<d.value+c.value-1&&(t.value=t.value+1,X(J))}return K(()=>l(e.tag,{ref:S,class:["v-pagination",E.value,e.class],style:e.style,role:"navigation","aria-label":s(e.ariaLabel),onKeydown:oe,"data-test":"v-pagination-root"},{default:()=>[l("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&l("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[a.first?a.first(h.value.first):l(C,T({_as:"VPaginationBtn"},h.value.first),null)]),l("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[a.prev?a.prev(h.value.prev):l(C,T({_as:"VPaginationBtn"},h.value.prev),null)]),re.value.map((n,i)=>l("li",{key:n.key,class:["v-pagination__item",{"v-pagination__item--is-active":n.isActive}],"data-test":"v-pagination-item"},[a.item?a.item(n):l(C,T({_as:"VPaginationBtn"},n.props),{default:()=>[n.page]})])),l("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[a.next?a.next(h.value.next):l(C,T({_as:"VPaginationBtn"},h.value.next),null)]),e.showFirstLastPage&&l("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[a.last?a.last(h.value.last):l(C,T({_as:"VPaginationBtn"},h.value.last),null)])])]})),{}}});const De=le({text:String,...W(),...G()},"v-toolbar-title"),se=U()({name:"VToolbarTitle",props:De(),setup(e,r){let{slots:a}=r;return K(()=>{const v=!!(a.default||a.text||e.text);return l(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var t;return[v&&l("div",{class:"v-toolbar-title__placeholder"},[a.text?a.text():e.text,(t=a.default)==null?void 0:t.call(a)])]}})}),{}}}),Fe=[null,"prominent","default","comfortable","compact"],Me=le({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Fe.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Z(),...W(),...ee(),...ae(),...G({tag:"header"}),...te()},"v-toolbar"),Ee=U()({name:"VToolbar",props:Me(),setup(e,r){var c;let{slots:a}=r;const{backgroundColorClasses:v,backgroundColorStyles:t}=he(_(e,"color")),{borderClasses:s}=_e(e),{elevationClasses:u}=xe(e),{roundedClasses:L}=Le(e),{themeClasses:E}=ne(e),P=k(!!(e.extended||(c=a.extension)!=null&&c.call(a))),x=m(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),S=m(()=>P.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return z({VBtn:{variant:"text"}}),K(()=>{var R;const d=!!(e.title||a.title),f=!!(a.image||e.image),I=(R=a.extension)==null?void 0:R.call(a);return P.value=!!(e.extended||I),l(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},v.value,s.value,u.value,L.value,E.value,e.class],style:[t.value,e.style]},{default:()=>[f&&l("div",{key:"image",class:"v-toolbar__image"},[a.image?l(j,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},a.image):l(ie,{key:"image-img",cover:!0,src:e.image},null)]),l(j,{defaults:{VTabs:{height:F(x.value)}}},{default:()=>{var y,$,A;return[l("div",{class:"v-toolbar__content",style:{height:F(x.value)}},[a.prepend&&l("div",{class:"v-toolbar__prepend"},[(y=a.prepend)==null?void 0:y.call(a)]),d&&l(se,{key:"title",text:e.title},{text:a.title}),($=a.default)==null?void 0:$.call(a),a.append&&l("div",{class:"v-toolbar__append"},[(A=a.append)==null?void 0:A.call(a)])])]}}),l(j,{defaults:{VTabs:{height:F(S.value)}}},{default:()=>[l(Ve,null,{default:()=>[P.value&&l("div",{class:"v-toolbar__extension",style:{height:F(S.value)}},[I])]})]})]})}),{contentHeight:x,extensionHeight:S}}}),je={class:"d-flex align-center justify-sm-space-between justify-center flex-wrap gap-3 pt-3"},He={class:"text-sm text-disabled mb-0"},ze={class:"text-center"},Ue={__name:"shop",setup(e){const r=$e();Re();async function a(t){r.fetchRaceList(t)}r.fetchRaceList();const v=m(()=>r.raceList.data);return(t,s)=>(H(),q("div",null,[M("section",null,[l(pe,null,{default:p(()=>[(H(!0),q(Pe,null,Se(w(v),u=>(H(),Ie(Te,{key:u.name,cols:"12",sm:"6",md:"3"},{default:p(()=>[l(Be,null,{default:p(()=>[l(Ee,{color:"rgba(100, 0, 0, 0)"},{default:p(()=>[l(se,{class:"text-h6 pokemon-name"},{default:p(()=>[Ce(Q(u.name),1)]),_:2},1024)]),_:2},1024),l(ie,{class:"align-end text-white mb-3",height:"96",src:u.photo},null,8,["src"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),M("section",je,[l(we),M("p",He," total:"+Q(w(r).raceList.total),1),M("div",ze,[l(Ne,{modelValue:w(r).raceList.current_page,"onUpdate:modelValue":[s[0]||(s[0]=u=>w(r).raceList.current_page=u),a],"total-visible":5,length:w(r).raceList.last_page,rounded:"circle"},null,8,["modelValue","length"])])])]))}},Je=ke(Ue,[["__scopeId","data-v-d875c8e6"]]);export{Je as default};

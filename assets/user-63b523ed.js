import{_ as ze}from"./DialogCloseBtn-82c0f0df.js";import{N as ne,K as Ue,O as pe,aQ as $e,aG as ye,L as he,aR as be,aS as _e,aT as Ee,T as Le,U as L,W as Ve,d as a,X as Te,J as Z,aU as ie,aV as Me,M as je,aW as Ge,aX as Ne,aF as Oe,aY as Ke,aZ as qe,aK as ke,a_ as Xe,a$ as Je,a1 as We,b0 as Ye,aJ as Ze,b1 as He,P as ge,b2 as Qe,b3 as ea,s as I,Z as H,_ as ue,b4 as aa,b5 as la,H as T,aP as M,al as ta,G as U,ao as le,$ as G,a2 as na,b6 as ce,r as $,aj as Ce,Y as sa,aB as oa,n as ia,b7 as ua,b8 as Q,o as P,c as O,w as o,g as Ie,ak as ca,am as ra,i as C,h as N,k as da,f as d,V as Se,y as te,m as re,e as w,ai as fa,u as va,a as ma,b9 as pa,x as ee,j,l as ya,av as ha,aw as ba}from"./index-a869956f.js";import{V as _a}from"./VForm-65be166b.js";import{V as De,a as B}from"./VRow-f7bc6a45.js";import{m as Va,c as ka,u as ga,b as de,f as Ca,d as Ia,e as Sa,V as ae,a as fe}from"./VTextField-62b42a92.js";import{V as Da}from"./VDialog-b60079b2.js";import{a as xa}from"./formatters-1588bd0d.js";import{V as Pa}from"./VDivider-1cbdaecd.js";import{V as wa,a as ve,b as me}from"./VList-1c4badbc.js";import"./dialog-transition-705acc24.js";const xe=Symbol.for("vuetify:v-chip-group");ne()({name:"VChipGroup",props:{column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Ue},...pe(),...$e({selectedClass:"v-chip--selected"}),...ye(),...he(),...be({variant:"tonal"})},emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:v}=s;const{themeClasses:i}=_e(e),{isSelected:t,select:p,next:u,prev:y,selected:b}=Ee(e,xe);return Le({VChip:{color:L(e,"color"),disabled:L(e,"disabled"),filter:L(e,"filter"),variant:L(e,"variant")}}),Ve(()=>a(e.tag,{class:["v-chip-group",{"v-chip-group--column":e.column},i.value,e.class],style:e.style},{default:()=>{var _;return[(_=v.default)==null?void 0:_.call(v,{isSelected:t,select:p,next:u,prev:y,selected:b.value})]}})),{}}});const Ba=ne()({name:"VChip",directives:{Ripple:Te},props:{activeClass:String,appendAvatar:String,appendIcon:Z,closable:Boolean,closeIcon:{type:Z,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Z,ripple:{type:Boolean,default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:ie(),onClickOnce:ie(),...Me(),...pe(),...je(),...Ge(),...Ne(),...Oe(),...Ke(),...qe(),...ye({tag:"span"}),...he(),...be({variant:"tonal"})},emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,s){let{attrs:v,emit:i,slots:t}=s;const{t:p}=ke(),{borderClasses:u}=Xe(e),{colorClasses:y,colorStyles:b,variantClasses:_}=Je(e),{densityClasses:c}=We(e),{elevationClasses:f}=Ye(e),{roundedClasses:V}=Ze(e),{sizeClasses:h}=He(e),{themeClasses:K}=_e(e),A=ge(e,"modelValue"),n=Qe(e,xe,!1),m=ea(e,v),R=I(()=>e.link!==!1&&m.isLink.value),k=I(()=>!e.disabled&&e.link!==!1&&(!!n||e.link||m.isClickable.value)),q=I(()=>({"aria-label":p(e.closeLabel),onClick(l){A.value=!1,i("click:close",l)}}));function F(l){var r;i("click",l),k.value&&((r=m.navigate)==null||r.call(m,l),n==null||n.toggle())}function X(l){(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),F(l))}return()=>{const l=m.isLink.value?"a":e.tag,r=!!(e.appendIcon||e.appendAvatar),S=!!(r||t.append),J=!!(t.close||e.closable),W=!!(t.filter||e.filter)&&n,E=!!(e.prependIcon||e.prependAvatar),Y=!!(E||t.prepend),g=!n||n.isSelected.value;return A.value&&H(a(l,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":k.value,"v-chip--filter":W,"v-chip--pill":e.pill},K.value,u.value,g?y.value:void 0,c.value,f.value,V.value,h.value,_.value,n==null?void 0:n.selectedClass.value,e.class],style:[g?b.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,href:m.href.value,tabindex:k.value?0:void 0,onClick:F,onKeydown:k.value&&!R.value&&X},{default:()=>{var D;return[aa(k.value,"v-chip"),W&&a(la,{key:"filter"},{default:()=>[H(a("div",{class:"v-chip__filter"},[t.filter?H(a(M,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},null),[[ue("slot"),t.filter,"default"]]):a(T,{key:"filter-icon",icon:e.filterIcon},null)]),[[ta,n.isSelected.value]])]}),Y&&a("div",{key:"prepend",class:"v-chip__prepend"},[t.prepend?a(M,{key:"prepend-defaults",disabled:!E,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},t.prepend):a(U,null,[e.prependIcon&&a(T,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&a(le,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),((D=t.default)==null?void 0:D.call(t,{isSelected:n==null?void 0:n.isSelected.value,selectedClass:n==null?void 0:n.selectedClass.value,select:n==null?void 0:n.select,toggle:n==null?void 0:n.toggle,value:n==null?void 0:n.value.value,disabled:e.disabled}))??e.text,S&&a("div",{key:"append",class:"v-chip__append"},[t.append?a(M,{key:"append-defaults",disabled:!r,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},t.append):a(U,null,[e.appendIcon&&a(T,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&a(le,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),J&&a("div",G({key:"close",class:"v-chip__close"},q.value),[t.close?a(M,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},t.close):a(T,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[ue("ripple"),k.value&&e.ripple,null]])}}}),Aa=ne()({name:"VFileInput",inheritAttrs:!1,props:{chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,showSize:{type:[Boolean,Number],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(e)},...Va({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:e=>na(e).every(s=>s!=null&&typeof s=="object")},...ka({clearable:!0})},emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,s){let{attrs:v,emit:i,slots:t}=s;const{t:p}=ke(),u=ge(e,"modelValue"),{isFocused:y,focus:b,blur:_}=ga(e),c=I(()=>typeof e.showSize!="boolean"?e.showSize:void 0),f=I(()=>(u.value??[]).reduce((l,r)=>{let{size:S=0}=r;return l+S},0)),V=I(()=>ce(f.value,c.value)),h=I(()=>(u.value??[]).map(l=>{const{name:r="",size:S=0}=l;return e.showSize?`${r} (${ce(S,c.value)})`:r})),K=I(()=>{var r;const l=((r=u.value)==null?void 0:r.length)??0;return e.showSize?p(e.counterSizeString,l,V.value):p(e.counterString,l)}),A=$(),n=$(),m=$();function R(){var l;m.value!==document.activeElement&&((l=m.value)==null||l.focus()),y.value||b()}function k(l){F(l)}function q(l){i("mousedown:control",l)}function F(l){var r;(r=m.value)==null||r.click(),i("click:control",l)}function X(l){l.stopPropagation(),R(),ia(()=>{u.value=[],ua(e["onClick:clear"],l)})}return Ce(u,l=>{(!Array.isArray(l)||!l.length)&&m.value&&(m.value.value="")}),Ve(()=>{const l=!!(t.counter||e.counter),r=!!(l||t.details),[S,J]=sa(v),[{modelValue:W,...E}]=de.filterProps(e),[Y]=Ca(e);return a(de,G({ref:A,modelValue:u.value,"onUpdate:modelValue":g=>u.value=g,class:["v-file-input",e.class],style:e.style,"onClick:prepend":k},S,E,{focused:y.value}),{...t,default:g=>{let{id:D,isDisabled:z,isDirty:se,isReadonly:Pe,isValid:we}=g;return a(Ia,G({ref:n,"prepend-icon":e.prependIcon,onMousedown:q,onClick:F,"onClick:clear":X,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},Y,{id:D.value,active:se.value||y.value,dirty:se.value,disabled:z.value,focused:y.value,error:we.value===!1}),{...t,default:Be=>{var oe;let{props:{class:Ae,...Re}}=Be;return a(U,null,[a("input",G({ref:m,type:"file",readonly:Pe.value,disabled:z.value,multiple:e.multiple,name:e.name,onClick:x=>{x.stopPropagation(),R()},onChange:x=>{if(!x.target)return;const Fe=x.target;u.value=[...Fe.files??[]]},onFocus:R,onBlur:_},Re,J),null),a("div",{class:Ae},[!!((oe=u.value)!=null&&oe.length)&&(t.selection?t.selection({fileNames:h.value,totalBytes:f.value,totalBytesReadable:V.value}):e.chips?h.value.map(x=>a(Ba,{key:x,size:"small",color:e.color},{default:()=>[x]})):h.value.join(", "))])])}})},details:r?g=>{var D,z;return a(U,null,[(D=t.details)==null?void 0:D.call(t,g),l&&a(U,null,[a("span",null,null),a(Sa,{active:!!((z=u.value)!=null&&z.length),value:K.value},t.counter)])])}:void 0})}),oa({},A,n,m)}}),Ra=w("p",{class:"mb-0"}," Updating user details will receive a privacy audit. ",-1),Fa={__name:"UserInfoEditDialog",props:{userData:{type:Object,required:!1,default:()=>({id:0,name:"",email:"",photo:""})},isDialogVisible:{type:Boolean,required:!0}},emits:["submit","update:isDialogVisible"],setup(e,{emit:s}){const v=e,i=$(structuredClone(Q(v.userData)));Ce(v,()=>{i.value=structuredClone(Q(v.userData))});const t=()=>{s("update:isDialogVisible",!1);const c=new FormData;c.append("name",i.value.name),c.append("email",i.value.email),i.value.file&&c.append("userPhoto",i.value.file),s("submit",c)},p=()=>{s("update:isDialogVisible",!1),i.value=structuredClone(Q(v.userData))},u=c=>{s("update:isDialogVisible",c)},y=c=>{const f=c.target.files[0],V=URL.createObjectURL(f);i.value.photo=V,i.value.file=f},b=c=>{i.value.name=c},_=c=>{i.value.email=c};return(c,f)=>{const V=ze;return P(),O(Da,{width:c.$vuetify.display.smAndDown?"auto":500,"model-value":v.isDialogVisible,"onUpdate:modelValue":u},{default:o(()=>[a(V,{onClick:f[0]||(f[0]=h=>u(!1))}),a(Ie,{class:"pa-sm-8 pa-5"},{default:o(()=>[a(ca,{class:"text-center"},{default:o(()=>[a(ra,{class:"text-h5 mb-3"},{default:o(()=>[C(" Edit User Information ")]),_:1}),Ra]),_:1}),a(N,null,{default:o(()=>[a(_a,{class:"mt-6",onSubmit:da(t,["prevent"])},{default:o(()=>[a(De,null,{default:o(()=>[a(B,{cols:"12"},{default:o(()=>[d(i).photo?(P(),O(Se,{key:0,md:"8",src:d(i).photo,height:"100"},null,8,["src"])):te("",!0)]),_:1}),a(B,{cols:"12"},{default:o(()=>[a(ae,null,{default:o(()=>[C("Photo:")]),_:1}),a(Aa,{md:"4",accept:"image/png, image/jpeg","prepend-icon":"mdi-camera",onInput:f[1]||(f[1]=h=>y(h))})]),_:1}),a(B,{cols:"12"},{default:o(()=>[a(ae,null,{default:o(()=>[C("Username:")]),_:1}),a(fe,{value:d(i).name,onInput:f[2]||(f[2]=h=>b(h.target.value))},null,8,["value"])]),_:1}),a(B,{cols:"12"},{default:o(()=>[a(ae,null,{default:o(()=>[C("Email:")]),_:1}),a(fe,{value:d(i).email,onInput:f[3]||(f[3]=h=>_(h.target.value))},null,8,["value"])]),_:1}),a(B,{cols:"12",class:"d-flex flex-wrap justify-center gap-4"},{default:o(()=>[a(re,{type:"submit"},{default:o(()=>[C(" Submit ")]),_:1}),a(re,{color:"secondary",variant:"tonal",onClick:p},{default:o(()=>[C(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}};const za=e=>(ha("data-v-1652b249"),e=e(),ba(),e),Ua={key:0},$a={key:1,class:"text-5xl font-weight-medium"},Ea={class:"text-h4 mt-4"},La=za(()=>w("p",{class:"text-sm text-uppercase text-disabled"}," Details ",-1)),Ta={class:"text-h6"},Ma={class:"text-body-1"},ja={class:"text-h6"},Ga={class:"text-body-1"},Na={__name:"user",setup(e){const s=va(),v=ma(),i=$(!1);pa(async()=>{try{await s.getInfo()}catch{v.replace("/login")}});async function t(p){await s.updateInfo(p),s.getInfo()}return(p,u)=>{const y=Fa;return P(),ee("div",null,[d(s).user.name?(P(),ee("div",Ua,[a(De,null,{default:o(()=>[a(B,{cols:"12",md:"4"},{default:o(()=>[d(s).user?(P(),O(Ie,{key:0},{default:o(()=>[a(N,{class:"text-center pt-15"},{default:o(()=>[a(le,{rounded:"",size:100,color:d(s).user.avatar?void 0:"primary",variant:d(s).user.avatar?void 0:"tonal"},{default:o(()=>[d(s).user.photo?(P(),O(Se,{key:0,src:d(s).user.photo},null,8,["src"])):(P(),ee("span",$a,j(d(xa)(d(s).user.name)),1))]),_:1},8,["color","variant"]),w("h6",Ea,j(d(s).user.name),1)]),_:1}),a(Pa),a(N,null,{default:o(()=>[La,a(wa,{class:"card-list mt-2"},{default:o(()=>[a(ve,null,{default:o(()=>[a(me,null,{default:o(()=>[w("h6",Ta,[C(" Username: "),w("span",Ma,j(d(s).user.name),1)])]),_:1})]),_:1}),a(ve,null,{default:o(()=>[a(me,null,{default:o(()=>[w("h6",ja,[C(" Email: "),w("span",Ga,j(d(s).user.email),1)])]),_:1})]),_:1})]),_:1})]),_:1}),a(N,{class:"d-flex justify-center"})]),_:1})):te("",!0)]),_:1})]),_:1}),a(y,{isDialogVisible:d(i),"onUpdate:isDialogVisible":u[0]||(u[0]=b=>ya(i)?i.value=b:null),"user-data":d(s).user,onSubmit:t},null,8,["isDialogVisible","user-data"])])):te("",!0)])}}},el=fa(Na,[["__scopeId","data-v-1652b249"]]);export{el as default};

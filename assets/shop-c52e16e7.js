import{aC as z,r as S,aD as h,ba as X,N as Z,J as w,aV as H,O as Q,M as Y,aW as ee,aF as ae,aZ as te,aG as ne,L as se,aR as ie,P as le,aK as re,bb as ue,aS as oe,bc as ce,T as F,bd as ve,s as _,be as R,U as y,W as de,d as l,m as x,$ as V,bf as N,n as M,ai as fe,o as B,x as T,e as A,w as P,G as ge,A as me,f as k,c as be,g as ye,i as _e,j,V as he}from"./index-a869956f.js";import{a as pe,V as Le}from"./VRow-f7bc6a45.js";import{V as xe,a as Ve}from"./VToolbar-48ef7c5a.js";import{V as Pe}from"./VDivider-1cbdaecd.js";const ke=z("cart",()=>{const e=S({});async function u(){try{const{data:t}=await h.get("/cart_items");e.value=t}catch(t){return Promise.reject(t)}}async function r(t){try{await h.post("/cart_items",t)}catch(s){return Promise.reject(s)}}async function g(t){try{await h.delete(`/cart_items/${t}`)}catch(s){return Promise.reject(s)}}return{cartItemList:e,getCart:u,addItem:r,deleteItem:g}}),Se=z("race",()=>{const e=S({}),u=S({});async function r(s=1){u.value=await h.get(`/races/?page=${s}`).then(o=>{if(o.status===200)return o.data})}async function g(s){try{return await h.post("/races",s).then(o=>o.status===200?{type:"positive",message:"Success"}:{type:"negative",message:"failed"})}catch{return{type:"negative",message:"failed"}}}async function t(s){try{return await h.patch("/races",s).then(o=>o.status===200?{type:"positive",message:"Success"}:{type:"negative",message:"failed"})}catch{return{type:"negative",message:"failed"}}}return{race:e,raceList:u,fetchRaceList:r,createData:g,updateData:t}});function Ie(){const e=S([]);X(()=>e.value=[]);function u(r,g){e.value[g]=r}return{refs:e,updateRef:u}}const we=Z()({name:"VPagination",props:{activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:w,default:"$first"},prevIcon:{type:w,default:"$prev"},nextIcon:{type:w,default:"$next"},lastIcon:{type:w,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...H(),...Q(),...Y(),...ee(),...ae(),...te(),...ne({tag:"nav"}),...se(),...ie({variant:"text"})},emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,u){let{slots:r,emit:g}=u;const t=le(e,"modelValue"),{t:s,n:o}=re(),{isRtl:I}=ue(),{themeClasses:E}=oe(e),{width:W}=ce(),C=S(-1);F(void 0,{scoped:!0});const{resizeRef:G}=ve(a=>{if(!a.length)return;const{target:n,contentRect:i}=a[0],d=n.querySelector(".v-pagination__list > *");if(!d)return;const f=i.width,L=d.offsetWidth+parseFloat(getComputedStyle(d).marginRight)*2;C.value=$(f,L)}),c=_(()=>parseInt(e.length,10)),v=_(()=>parseInt(e.start,10)),m=_(()=>e.totalVisible?parseInt(e.totalVisible,10):C.value>=0?C.value:$(W.value,58));function $(a,n){const i=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((a-n*i)/n).toFixed(2)))}const K=_(()=>{if(c.value<=0||isNaN(c.value)||c.value>Number.MAX_SAFE_INTEGER)return[];if(m.value<=1)return[t.value];if(c.value<=m.value)return R(c.value,v.value);const a=m.value%2===0,n=a?m.value/2:Math.floor(m.value/2),i=a?n:n+1,d=c.value-n;if(i-t.value>=0)return[...R(Math.max(1,m.value-1),v.value),e.ellipsis,c.value];if(t.value-d>=(a?1:0)){const f=m.value-1,L=c.value-f+v.value;return[v.value,e.ellipsis,...R(f,L)]}else{const f=Math.max(1,m.value-3),L=f===1?t.value:t.value-Math.ceil(f/2)+v.value;return[v.value,e.ellipsis,...R(f,L),e.ellipsis,c.value]}});function p(a,n,i){a.preventDefault(),t.value=n,i&&g(i,n)}const{refs:U,updateRef:O}=Ie();F({VPaginationBtn:{color:y(e,"color"),border:y(e,"border"),density:y(e,"density"),size:y(e,"size"),variant:y(e,"variant"),rounded:y(e,"rounded"),elevation:y(e,"elevation")}});const q=_(()=>K.value.map((a,n)=>{const i=d=>O(d,n);if(typeof a=="string")return{isActive:!1,key:`ellipsis-${n}`,page:a,props:{ref:i,ellipsis:!0,icon:!0,disabled:!0}};{const d=a===t.value;return{isActive:d,key:a,page:o(a),props:{ref:i,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:d?e.activeColor:e.color,ariaCurrent:d,ariaLabel:s(d?e.currentPageAriaLabel:e.pageAriaLabel,a),onClick:f=>p(f,a)}}}})),b=_(()=>{const a=!!e.disabled||t.value<=v.value,n=!!e.disabled||t.value>=v.value+c.value-1;return{first:e.showFirstLastPage?{icon:I.value?e.lastIcon:e.firstIcon,onClick:i=>p(i,v.value,"first"),disabled:a,ariaLabel:s(e.firstAriaLabel),ariaDisabled:a}:void 0,prev:{icon:I.value?e.nextIcon:e.prevIcon,onClick:i=>p(i,t.value-1,"prev"),disabled:a,ariaLabel:s(e.previousAriaLabel),ariaDisabled:a},next:{icon:I.value?e.prevIcon:e.nextIcon,onClick:i=>p(i,t.value+1,"next"),disabled:n,ariaLabel:s(e.nextAriaLabel),ariaDisabled:n},last:e.showFirstLastPage?{icon:I.value?e.firstIcon:e.lastIcon,onClick:i=>p(i,v.value+c.value-1,"last"),disabled:n,ariaLabel:s(e.lastAriaLabel),ariaDisabled:n}:void 0}});function D(){var n;const a=t.value-v.value;(n=U.value[a])==null||n.$el.focus()}function J(a){a.key===N.left&&!e.disabled&&t.value>+e.start?(t.value=t.value-1,M(D)):a.key===N.right&&!e.disabled&&t.value<v.value+c.value-1&&(t.value=t.value+1,M(D))}return de(()=>l(e.tag,{ref:G,class:["v-pagination",E.value,e.class],style:e.style,role:"navigation","aria-label":s(e.ariaLabel),onKeydown:J,"data-test":"v-pagination-root"},{default:()=>[l("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&l("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[r.first?r.first(b.value.first):l(x,V({_as:"VPaginationBtn"},b.value.first),null)]),l("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[r.prev?r.prev(b.value.prev):l(x,V({_as:"VPaginationBtn"},b.value.prev),null)]),q.value.map((a,n)=>l("li",{key:a.key,class:["v-pagination__item",{"v-pagination__item--is-active":a.isActive}],"data-test":"v-pagination-item"},[r.item?r.item(a):l(x,V({_as:"VPaginationBtn"},a.props),{default:()=>[a.page]})])),l("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[r.next?r.next(b.value.next):l(x,V({_as:"VPaginationBtn"},b.value.next),null)]),e.showFirstLastPage&&l("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[r.last?r.last(b.value.last):l(x,V({_as:"VPaginationBtn"},b.value.last),null)])])]})),{}}}),Re={class:"d-flex align-center justify-sm-space-between justify-center flex-wrap gap-3 pt-3"},Ae={class:"text-sm text-disabled mb-0"},Ce={class:"text-center"},Be={__name:"shop",setup(e){const u=Se();ke();async function r(t){u.fetchRaceList(t)}u.fetchRaceList();const g=_(()=>u.raceList.data);return(t,s)=>(B(),T("div",null,[A("section",null,[l(Le,null,{default:P(()=>[(B(!0),T(ge,null,me(k(g),o=>(B(),be(pe,{key:o.name,cols:"12",sm:"6",md:"3"},{default:P(()=>[l(ye,null,{default:P(()=>[l(xe,{color:"rgba(100, 0, 0, 0)"},{default:P(()=>[l(Ve,{class:"text-h6 pokemon-name"},{default:P(()=>[_e(j(o.name),1)]),_:2},1024)]),_:2},1024),l(he,{class:"align-end text-white mb-3",height:"96",src:o.photo},null,8,["src"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),A("section",Re,[l(Pe),A("p",Ae," total:"+j(k(u).raceList.total),1),A("div",Ce,[l(we,{modelValue:k(u).raceList.current_page,"onUpdate:modelValue":[s[0]||(s[0]=o=>k(u).raceList.current_page=o),r],"total-visible":5,length:k(u).raceList.last_page,rounded:"circle"},null,8,["modelValue","length"])])])]))}},Me=fe(Be,[["__scopeId","data-v-d875c8e6"]]);export{Me as default};
